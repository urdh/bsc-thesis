\documentclass[../rapport_MVEX01-11-05]{subfiles}
\begin{document}

\section{Klassificering av gester med hjälp av \knn}
Den största andelen korrekt klassificerade gester vi lyckas uppnå
med samtliga gester tillåtna är 91.9\,\%, både med forward selection
och backward elimination. Antalet aktiverade
egenskaper blir 10 då forward selection-algoritmen användes och 7 med
backward selection, och antalet närmsta grannar i \knn-metoden är 7. Egenskaperna som
används är listade i
tabell~\vref{tab:bestfeatsfwd}.

Figur~\vref{fig:knn-optimering} visar mer
exakt hur andelen korrekta
klassficeringar beror på antalet aktiverade egenskaper och på värdet av $k$.
Det framgår tydligt att antalet aktiverade egenskaper har stor
inverkan på andelen felklassificerade gester
om man använder sig av färre än
fem egenskaper. Därefter planar andelen ut för att återigen stiga då
fler än 10 egenskaper används. Andelen felklassificeringar
minskar också i takt med att $k$ ökar från 1 till 7, för att sedan
öka då värdet ökar från 7 till 13. Med valet av egenskaper och $k$ från
optimeringen med forward selection presterade metoden enligt
tabell~\vref{tab:tolkningsmatris} och tabell~\vref{tab:prestanda}.

\begin{figure}[tbp]
  \centering
  \includegraphics[width=\textwidth,trim=2cm 0.5cm 2cm 0,clip=true]{bilder/feats-10+11}
  \caption{De olika symbolerna motsvarar olika gester, plottade mot de två starkaste egenskaperna
  enligt forward selection. Notera hur de flesta är tydligt samlade, men att
	vissa gester överlappar varandra. För två av gesterna (nedåtvända trianglar och fyrkanter) 
	är de två egenskaperna tydligt korrelerade, medan de inte är det för andra.}
  \label{fig:feats1011}
\end{figure}

\begin{figure}[tbp]
    \begin{center}
        \includegraphics[width=0.5\columnwidth,clip=true]{bilder/fwd_sel}
				%\\\medskip
    \end{center}
    \caption{Optimering av \knn-metoden med avseende på inkluderade egenskaper
och värden på $k$ med forward selection-algoritmen. Ett minimum i
andel felaktiga klassificeringar, 91.4\,\%, fås då
$k=7$ och 10 egenskaper inkluderades. Med backward elimination fås
samma andel felaktiga klassificeringar som minimum med $k=7$ och 7 inkluderade egenskaper.}
    \label{fig:knn-optimering}
\end{figure}


\notes{(Inkludera resultat där problemgester är borttagna?)}

\begin{table}[tbp]
	\centering
	\caption{Andel felklassificeringar av statiska gester i procent. Priori-fel
	betecknar sådana fel då gesten varit känd men identifierats
	som något annat; posteriori-fel betecknar sådana fel då
	identifikationen är känd men felaktig. \notes{Relatera till
	värden i tabell~\vref{tab:tolkningsmatris}}}
	\smallskip
	\label{tab:prestanda}
	\begin{tabular}{c c c}
		\toprule 
		Försöksgest & A Priori-fel & A Posteriori-fel \\
		\midrule 
		A & 14&15 \\
		B & 11&12 \\
		C & 0& 0\\
		D & 0& 0\\
		E & 30& 41\\
		Sten & 6& 5\\
		Sax & 16& 18\\
		Påse & 9& 9\\
		Spock & 0& 0\\
		Seger & 0& 0\\
		\bottomrule 
	\end{tabular}
\end{table}

\begin{table}[tbp]
	  \centering
		\caption{En s.k.~confusion matrix för klassificering
                  av tio statiska gester. Tecknet för E var det klart
                  svåraste att klassificera, med endast 70\,\%
                  korrekta klassificeringar. Varje gest testades med
                  64 bilder.}
		\label{tab:tolkningsmatris}
    \includegraphics[trim=2cm 16cm 8cm 2.5cm,clip=true,width=8cm]{bilder/tolkningsmatris.pdf}
\end{table}

\begin{table}[tb]
	\centering
	\caption{De tio bästa egenskaperna med forward selection.}
	
	\label{tab:bestfeatsfwd}
	\begin{tabular}{ll}
		\toprule
		Ranking & Egenskap \\
		\midrule
		1 & Hu-moment 3 \\
		2 & Hu-moment 2 \\
		3 & Tyngdpunktsläge, $y$-led \\
		4 & Fyrkantighet \\
		5 & Soliditet \\
		6 & Excentricitet \\
		7 & Konvexitet \\
		8 & Hu-moment 1 \\
		9 & Utsträckning \\
		10 & Hu-moment 7 \\
		\bottomrule
	\end{tabular}
\end{table}

\begin{table}[tb]
	\centering
    \caption{De sju bästa egenskaperna med backward elimination.}
	
	\label{tab:bestfeatsbwd}
	\begin{tabular}{ll}
		\toprule
		Ranking & Egenskap \\
		\midrule
                1 & Fyrkantighet \\
                2 & Tyngdpunktsläge, $y$-led \\
                3 & Hu-moment 1\\
                4 & Soliditet\\
                5 & Konvexitet \\
                6 & Utsträckning \\
                7 & Hu-moment 3 \\
		\bottomrule
	\end{tabular}
\end{table}

\subsection{Val av egenskaper}\label{sec:resultat_features}
Egenskaperna som använts har visat sig vara mycket bra --- upp till en viss gräns.
I tabell~\vref{tab:bestfeatsfwd} syns de tio egenskaper som inkluderades
med forward selection. Av dessa kan man ta bort tre --- excentricitet,
Hu-moment 2 och Hu-moment 7 ---
med oförändrad klassificeringsförmåga, enligt resultat från backward
elimination-algoritmen. De sju bästa egenskaperna som resulterar från
backward elimination listas i tabell~\vref{tab:bestfeatsbwd}, i
ordning efter hur länge de är kvar i körningen.

Rankingen av samtliga egenskaper från respektive metod finns i appendix
\ref{sec:egenskapsresultat}.

Ett urval av sex gester visar i
figur~\vref{fig:feats1011} hur de två bästa egenskaperna tydligt samlar 
gesterna i relativt små områden, vilket gör att avstånden i \knn-metoden 
blir mindre. Det ska dock noteras att egenskaperna 
överlappar varandra för vissa gester vilket sannolikt minskar träffsäkerheten.

\subsection{Klassificering i realtid}
Med lämpliga val av egenskaper och en stor, representativ prototypmängd,
kan klassificeraren i realtid klassificera testpersoner, med upprepat
tillfredställande resultat.

\end{document}
